/*Cryomundus here, added a few A_facetarget to some states since the 
original had just forward facing sprites. It has a full set of rotations, 
so some minor additions where necessary.

Also removed the "bright" keyword save for the death and missile states so 
it no longer stood out as much as it did before. */

actor Drone 7568 
{ 
	//$Category AirForce
    Health 35
    Radius 16
    Height 24
    Speed 6
    PainChance 32
    MONSTER 
    +NOGRAVITY
    +FLOATBOB
    +NOBLOOD
	+DONTHARMSPECIES
    Species "KX"
	DamageFactor "KX", 0.0
    HitObituary "%o was blasted by a drone!"
	SeeSound "drone/see"
	ActiveSound "drone/idle"
	PainSound "drone/pain" 
	DeathSound "drone/die" 
    States
    {
    Spawn:
        HDRN A 3 A_Look
        Loop
    See:
        HDRN AAA 1 A_Chase
        Loop
    Missile:
        HDRN A 3 bright A_Facetarget
	MissileLoop:
		HDRN D 0 bright A_Facetarget
        HDRN D 0 bright A_CustomMissile("DroneShot",4,-12)
		HDRN D 0 bright A_CustomMissile("DroneShot",4,12)
		HDRN B 3 bright
    	HDRN C 3 bright
		HDRN D 3 bright
        HDRN D 0 bright A_Facetarget
        HDRN D 0 bright A_CustomMissile("RailBotBeam",4,-12)
		HDRN D 0 bright A_CustomMissile("RailBotBeam",4,12)
		HDRN B 3 bright
    	HDRN C 3 bright
		HDRN D 3 bright
		HDRN D 0 A_Jump(128,1)
    	Goto See
		HDRN D 0 A_SpidRefire
		Loop
    Pain:
        HDRN A 3 A_Pain
        Goto See
    Death:
        DRON E 0 bright A_NoBlocking
		DRON E 0 bright A_NoGravity
		DRON E 0 bright A_Scream
		DRON E 6 bright A_SetTranslucent(1.0,0)
		DRON F 6 bright A_SetTranslucent(0.9,0)
		DRON G 6 bright A_SetTranslucent(0.8,0)
		DRON H 6 bright A_SetTranslucent(0.7,0)
		DRON I 6 bright A_SetTranslucent(0.6,0)
		DRON J 6 bright A_SetTranslucent(0.5,0)
		DRON K 6 bright A_SetTranslucent(0.4,0)
        NULL A -1
        Stop
    }
}

actor DroneShot : SerpentFX
{
  SeeSound "Drone/Fire"
  Speed 16
  Damage 2
  Scale .5
  States
  {
  Spawn:
    DRFX ABAB 3 bright
    Goto Spawn
  Death:
    DRFX CDEFGH 4 bright
    Stop
  }
}