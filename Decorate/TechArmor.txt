Actor KaiserSoldierArmor : CustomInventory 7499 
{ 
  //$Category KXItems
  Inventory.Amount 1
  Inventory.PickupSound "misc/p_pkup"
  Inventory.MaxAmount 3
  Inventory.InterHubAmount 3
  Inventory.PickupMessage "Kaiser Soldier Armor"
  Inventory.Icon ARM4B0
  +Inventory.InvBar
  +FloorClip
  States
  {
  Spawn:
    ARM4 A -1
    Loop
  Use:
    TNT1 A 0 A_JumpIfInventory("Cell", 100, "Succeed")
    TNT1 A 0 A_Print("Not enough energy cells")
    TNT1 A 0 A_GiveInventory("KaiserSoldierArmor", 1)
    Stop
  Succeed:
    TNT1 A 0 A_PlaySoundEx("Pickups/TechArmor", "SoundSlot7", 0)
    TNT1 A 0 A_TakeInventory("Cell", 100)
    TNT1 A 0 A_GiveInventory("TechArmorProtection", 300)
    Stop
  }
}

Actor TechArmorProtection : BasicArmorPickup
{
  Inventory.Icon "ARM4A0"
  Armor.SaveAmount 300
  Armor.SavePercent 75
  States
  {
  Spawn:
    TNT1 A 1
    Fail
  }
}
