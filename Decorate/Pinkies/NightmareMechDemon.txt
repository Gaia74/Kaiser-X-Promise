ACTOR NightmareMechDemon 7541 
{ 
	//$Category Pinkies
    //$Category Monsters
    Health 460 
    Speed 12 
    Height 56
    Radius 30
    Mass 400
    PainChance 180
    RenderStyle Translucent
    Alpha 0.3
    Meleedamage 15
    REACTIONTIME 8 
    MONSTER
    +FLOORCLIP
    +longmeleerange
	+DONTHARMSPECIES
    Species "KX"
	DamageFactor "KX", 0.0
    SeeSound "blooddemon/sight"
    PainSound "blooddemon/pain"
    DeathSound "blooddemon/death"
    ActiveSound "blooddemon/active"
    MeleeSound "blooddemon/melee"
    Obituary "%o was spooked by a Nightmare Mech-demon."
    HitObituary "%o Was chewed up and spat out by a Nightmare Mech-demon." 
    States 
    { 
    Spawn: 
        SRG3 AB 10 A_Look
        Loop 
    See: 
	    SRG3 E 0 A_ChangeFlag("NOPAIN",0)
        SRG3 A 0 A_PlaySound("blooddemon/walk")
        SRG3 AABB 2 A_Chase
        SRG3 C 0 A_PlaySound("blooddemon/walk")
        SRG3 CCDD 2 A_Chase
        Loop 
    Melee: 
	    SRG3 E 0 A_ChangeFlag("NOPAIN",1)
        SRG3 E 0 A_PlaySound("blooddemon/melee")
        SRG3 EF 3 A_FaceTarget
        SRG3 G 3 A_MeleeAttack
		SRG3 E 0 A_ChangeFlag("NOPAIN",0)
        Goto See 
    Missile:
		SRG3 O 6 A_FaceTarget
		SRG3 P 0 A_CustomMissile("Bloodshot",22,0,-1,0,0)
        SRG3 P 8 A_CustomMissile("Bloodshot",22,0,1,0,0)
	    Goto See
    Pain: 
		SRG3 H 2
		SRG3 H 2 A_Pain
       Goto See
    Death: 
		SRG3 I 8 
		SRG3 I 0 A_FaceTarget
		SRG3 J 0 A_SpawnItemEx("NightmareMechDemonArm", 10, 0, 32, 0, 8, 0, 0, 128)
		SRG3 J 8 A_Scream
		SRG3 K 4 
		SRG3 L 4 A_NoBlocking
		SRG3 M 4 
		SRG3 N -1 
		Stop 
    Raise: 
		SRG3 NMLKJI 5 
		Goto See 
	} 
}

ACTOR NightmareMechDemonArm
{
	Radius 8
	Height 8
	Speed 8
	+DOOMBOUNCE
	+DROPOFF
	+Missile
      States
	{
	Spawn:
         SG3A ABCDEFGH 2
         Loop
	Death:
	 SG3A I -1
	 Loop
	}
}