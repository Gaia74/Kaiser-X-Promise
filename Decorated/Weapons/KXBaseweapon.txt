Actor KXBaseWeapon : Weapon
{
Weapon.BobStyle Alpha
Weapon.BobSpeed 2.0
Weapon.BobRangeX 0.7
Weapon.BobRangeY 0.5
Weapon.Kickback 100
States
{
  KXSkillFire:
	"####" A 0 A_JumpIfInventory("KXBlueKnightBladeToken2",1,"BlueKnightBlade")
	"####" A 0 A_JumpIfInventory("KXBlueKnightKatanaToken",1,"BlueKnightKatana")
	"####" A 0 A_JumpIfInventory("KXSkillItemActivator33",1,"BlueKnightChain")
	"####" A 0 A_JumpIfInventory("KXSkillItemActivator35",1,"BlueKnightSoulRipper")
	"####" A 0 A_JumpIfInventory("KXSkillItemActivator36",1,"BlueKnightCelestialAscent")
	"####" A 0 A_JumpIfInventory("KXSkillItemActivator37",1,"BlueKnightAshenAbsolution")
	"####" A 0 A_JumpIfInventory("KXSkillItemActivator38",1,"BlueKnightShield")
	"####" A 1 bright Offset(0,40)
	"####" A 1 bright Offset(0,50)
	"####" A 1 bright Offset(0,60)
	"####" A 1 bright Offset(0,70)
	"####" A 0 A_JumpIfInventory("KXIsDrinkingHolyWater",1,"HolyWater")
	"####" A 0 A_JumpIfInventory("KXIsShopping",1,"Praying")
	MAFA A 0 A_TakeInventory("KXAssaultRifleZoom", 1)
	MAFA A 0 A_ZoomFactor(1.0)
    MAFA A 1 bright Offset(0,70)
	MAFA A 1 bright Offset(0,60)
	MAFA A 1 bright Offset(0,50)
	MAFA A 1 bright Offset(0,40)
    TNT1 A 0 A_JumpIfInventory("KXSkillItemActivator0",1,"IceShards")
    TNT1 A 0 A_JumpIfInventory("KXSkillItemActivator2",1,"AngelicFrostTouch")
	TNT1 A 0 A_JumpIfInventory("KXSkillItemActivator3",1,"Fireball")
	TNT1 A 0 A_JumpIfInventory("KXSkillItemActivator4",1,"IgneousFlare")
	TNT1 A 0 A_JumpIfInventory("KXSkillItemActivator5",1,"DivineSpiritScorch")
	TNT1 A 0 A_JumpIfInventory("KXSkillItemActivator6",1,"ThunderBolt")
	TNT1 A 0 A_JumpIfInventory("KXSkillItemActivator8",1,"StormCalm")
	TNT1 A 0 A_JumpIfInventory("KXSkillItemActivator11",1,"DivineLight")
    Goto Select
  IceShards:
	MAFA B 1 bright 
	TNT1 A 0 A_TakeInventory("HeavenFaith",5)
	TNT1 A 0 ACS_NamedExecuteAlways("KXRelicPrayerReturn",0,5,0,0)
	TNT1 AAAAAAAAAAAAAAA 0 A_FireCustomMissile ("KXBlondeIceShards",frandom(-5,5),0,0,0,0,frandom(-5,5))
	MAFA EGIKMN 1 bright 
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  AngelicFrostTouch:
    TNT1 A 0 A_PlaySound("Heaven/AngelicTouchReady",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
    TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle7",0,0,32,frandom(10,20),frandom(10,20),frandom(-20,20),random(1,360),SXF_NOCHECKPOSITION)
	MAFA B 5 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	MAFA B 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	TNT1 A 0 A_SpawnItemEx("CyberBorealParticle1", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	MAFA B 0 A_JumpIfInventory("KXFireSkillToken",1,"AngelicFrostTouchRelease")
	Goto AngelicFrostTouch+53
  AngelicFrostTouchRelease:
	TNT1 A 0 A_SpawnItemEx("KXAngelicFrostTouchWave",0,0,1,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_RadiusGive("KXAngelicFrostTouchItem",384,RGF_MONSTERS,1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle4",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle5",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle6",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle4",frandom(0,384),0,floorz-z+1,0,0,frandom(0,10),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle5",frandom(0,384),0,floorz-z+1,0,0,frandom(0,10),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle6",frandom(0,384),0,floorz-z+1,0,0,frandom(0,10),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_TakeInventory("HeavenFaith",50)
	TNT1 A 0 ACS_NamedExecuteAlways("KXRelicPrayerReturn",0,50,0,0)
	MAFA EFGHIJKLMN 1 bright 
	TNT1 A 35
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  Fireball:
    MAFA B 1 bright
	TNT1 A 0 A_TakeInventory("HeavenFaith",5)
	TNT1 A 0 ACS_NamedExecuteAlways("KXRelicPrayerReturn",0,5,0,0)
	TNT1 A 0 A_PlaySound("weapons/diasht",Chan_Weapon)
	TNT1 A 0 A_FireCustomMissile ("KXBlondeFireBall",0,0,0,0,0,0)
	MAFA EGIKMN 1 bright 
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  IgneousFlare:
    TNT1 A 0 A_TakeInventory("HeavenFaith",20)
	TNT1 A 0 ACS_NamedExecuteAlways("KXRelicPrayerReturn",0,20,0,0)
	TNT1 A 0 A_FireCustomMissile ("KXBlondeIgneousFlare",0,0,0,0,0,0)
	MAFA EFGHIJKLMN 1 bright 
	TNT1 A 35
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  DivineSpiritScorch:
    TNT1 A 0 A_PlaySound("Heaven/DivineSpiritScorchReady",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
    TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXDivineSpiritScorchParticle5",0,0,32,frandom(10,20),frandom(10,20),frandom(-20,20),random(1,360),SXF_NOCHECKPOSITION)
	MAFA B 5 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	MAFA B 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	TNT1 A 0 A_SpawnItemEx("KXDivineSpiritScorchParticle2", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	MAFA B 0 A_JumpIfInventory("KXFireSkillToken",1,"DivineSpiritScorchRelease")
	MAFA B 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	TNT1 A 0 A_SpawnItemEx("KXDivineSpiritScorchParticle3", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	MAFA B 0 A_JumpIfInventory("KXFireSkillToken",1,"DivineSpiritScorchRelease")
	MAFA B 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	TNT1 A 0 A_SpawnItemEx("KXDivineSpiritScorchParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	MAFA B 0 A_JumpIfInventory("KXFireSkillToken",1,"DivineSpiritScorchRelease")
	Goto DivineSpiritScorch+53
  DivineSpiritScorchRelease:
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXDivineSpiritScorchParticle2",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXDivineSpiritScorchParticle3",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXDivineSpiritScorchParticle4",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_TakeInventory("HeavenFaith",60)
	TNT1 A 0 ACS_NamedExecuteAlways("KXRelicPrayerReturn",0,60,0,0)
	TNT1 A 0 A_Recoil(40)
	TNT1 A 0 A_PlaySound("Heaven/DivineSpiritScorchFire",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 A_FireCustomMissile ("KXDivineSpiritScorchMissile",0,0,0,0,0,0)
	MAFA EFGHIJKLMN 1 bright 
	TNT1 A 35
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  ThunderBolt:
    TNT1 A 0 A_TakeInventory("HeavenFaith",10)
	TNT1 A 0 ACS_NamedExecuteAlways("KXRelicPrayerReturn",0,10,0,0)
	TNT1 A 0 A_PlaySound("KXAcolyte/Thunder",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 A_RailAttack(50,0,0,"None","None", RGF_SILENT|RGF_FULLBRIGHT,0,"KXBlondeThunderBoltPuff2",0,0,2048,1,7,1,"KXBlondeThunderBoltPuff")
	MAFA EFGHIJKLMN 1 bright
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  StormCalm:
    TNT1 A 0 A_PlaySound("Heaven/StormCalmStart",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
    TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	MAFA BBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBBB 1 bright A_SpawnItemEx("KXBlondeBoltParticle", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
    TNT1 A 0 A_PlaySound("Heaven/StormCalmShield",CHAN_ITEM,1.0,FALSE,ATTN_NONE)
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXBlondeBoltParticle",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXBlondeBoltParticle1",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXBlondeBoltParticle2",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXBlondeBoltParticle3",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_TakeInventory("HeavenFaith",60)
	TNT1 A 0 ACS_NamedExecuteAlways("KXRelicPrayerReturn",0,60,0,0)
	TNT1 A 0 A_SetBlend("99 99 0", .5, 5)
	TNT1 A 0 A_PlaySound("Heaven/StormCalmShield",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 ACS_NamedExecuteAlways("KXStormCalm",0,0,0,0)
	MAFA EGIKMN 1 bright 
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  DivineLight:
    TNT1 A 0 A_PlaySound("Heaven/DivineLightCast",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
    TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXDivineSpiritScorchParticle5",0,0,32,frandom(10,20),frandom(10,20),frandom(-20,20),random(1,360),SXF_NOCHECKPOSITION)
	MAFA B 5 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	MAFA B 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	TNT1 A 0 A_SpawnItemEx("KXDivineSpiritScorchParticle2", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	MAFA B 0 A_JumpIfInventory("KXFireSkillToken",1,"DivineLightRelease")
	MAFA B 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	TNT1 A 0 A_SpawnItemEx("KXDivineSpiritScorchParticle3", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	MAFA B 0 A_JumpIfInventory("KXFireSkillToken",1,"DivineLightRelease")
	MAFA B 1 bright A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	TNT1 A 0 A_SpawnItemEx("KXDivineSpiritScorchParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	MAFA B 0 A_JumpIfInventory("KXFireSkillToken",1,"DivineLightRelease")
	Goto DivineLight+53
  DivineLightRelease:
    TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXDivineSpiritScorchParticle2",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXDivineSpiritScorchParticle3",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXDivineSpiritScorchParticle4",0,0,32,frandom(0,5),frandom(0,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_TakeInventory("HeavenFaith",90)
	TNT1 A 0 ACS_NamedExecuteAlways("KXRelicPrayerReturn",0,90,0,0)
	TNT1 A 0 A_Recoil(40)
	TNT1 A 0 A_PlaySound("Heaven/DivineLightStart",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 ACS_NamedExecuteAlways("KXDivineLight",0,90,0,0)
	MAFA EFGHIJKLMN 1 bright 
	TNT1 A 35
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
	
	
	
  BlueKnightBlade:
	TNT1 A 0 A_TakeInventory("KXBlueKnightBladeToken",1)
	TNT1 A 0 A_Jump(256,"BlueKnightBladeLeft", "BlueKnightBladeRight")
  BlueKnightBladeRight:
	TNT1 A 0 A_TakeInventory("KXBlueKnightHookToken",1)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 A_AlertMonsters
	BLKN A 1 Offset(0,52)
	BLKN A 1 Offset(0,72)
	BLKN A 1 Offset(0,92)
	BLKN H 1 Offset(300,80) 
	BLKN H 1 Offset(300,160) 
	TNT1 A 0 A_PlaySound("BlueKnight/BladeOut",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
	BLKN H 1 Offset(300,240)
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	BLKN H 1 Offset(220,180) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	BLKN H 1 Offset(160,120)
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	BLKN H 1 Offset(100,60) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetAngle(3+angle)
	BLKN H 1 Offset(75,32) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetPitch(pitch+3)
	TNT1 A 0 A_SetAngle(3+angle)
	BLKN H 1 Offset(40,72) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetPitch(3+pitch)
	BLKN H 1 Offset(0,122) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetPitch(5+pitch)
	TNT1 A 0 A_SetAngle(-2+angle)
	BLKN H 1 Offset(-35,162)
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetAngle(-2+angle)
	BLKN H 1 Offset(-70,192) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetAngle(-2+angle)
	TNT1 A 0 A_SetPitch(pitch-4)
	BLKN H 1 Offset(-110,218)
	TNT1 A 0 A_SetPitch(pitch-3)
	BLKN H 1 Offset(-170,244) 
	TNT1 A 0 A_SetPitch(pitch-2)
	BLKN H 1 Offset(-230,284)
	TNT1 A 0 A_SetPitch(pitch-2)
	BLKN H 1 Offset(-300,384)
	TNT1 A 2 OffSet(32,1)
	BLKN A 1 Offset(1,92)
	BLKN A 1 Offset(1,72)
	BLKN A 1 Offset(1,52)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	BLKN A 0 A_TakeInventory("PunchedAlready",32767)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  BlueKnightBladeLeft:
    TNT1 A 0 A_TakeInventory("KXBlueKnightHookToken",1)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 A_AlertMonsters
	BLKN A 1 Offset(0,52)
	BLKN A 1 Offset(0,72)
	BLKN A 1 Offset(0,92)
	BLKN N 1 Offset(-300,80) 
	BLKN N 1 Offset(-300,160) 
	TNT1 A 0 A_PlaySound("BlueKnight/BladeOut",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
	BLKN N 1 Offset(-300,240)
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	BLKN N 1 Offset(-220,180) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	BLKN N 1 Offset(-160,120)
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	BLKN N 1 Offset(-100,60) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetAngle(-3+angle)
	BLKN N 1 Offset(-75,32) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetPitch(pitch+3)
	TNT1 A 0 A_SetAngle(-3+angle)
	BLKN N 1 Offset(-40,72) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetPitch(3+pitch)
	BLKN N 1 Offset(0,122) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetPitch(5+pitch)
	TNT1 A 0 A_SetAngle(2+angle)
	BLKN N 1 Offset(35,162)
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetAngle(2+angle)
	BLKN N 1 Offset(70,192) 
	TNT1 A 0 A_GiveInventory("BKFistProjectile4")
	TNT1 A 0 A_SetAngle(2+angle)
	TNT1 A 0 A_SetPitch(pitch-4)
	BLKN N 1 Offset(110,218)
	TNT1 A 0 A_SetPitch(pitch-3)
	BLKN N 1 Offset(170,244) 
	TNT1 A 0 A_SetPitch(pitch-2)
	BLKN N 1 Offset(230,284)
	TNT1 A 0 A_SetPitch(pitch-2)
	BLKN N 1 Offset(300,384)
	TNT1 A 2 OffSet(32,1)
	BLKN A 1 Offset(1,92)
	BLKN A 1 Offset(1,72)
	BLKN A 1 Offset(1,52)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	BLKN A 0 A_TakeInventory("PunchedAlready",32767)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  BlueKnightChain:
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 A_JumpIfInventory("KXBlueKnightHookToken",1,"TakeOff")
	TNT1 A 0 A_JumpIfInventory("KXBlueKnightChainToken",1,"BlueKnightAttract")
	BLKN A 1 Offset(0,52)
	BLKN A 1 Offset(0,72)
	BLKN A 1 Offset(0,92)
	BLKN M 1 Offset(-307,175) 
	BLKN M 1 Offset(-257,150) 
	BLKN M 1 Offset(-207,125)
	BLKN M 1 Offset(-157,100) 
	BLKN M 1 Offset(-107,75)
	BLKN M 1 Offset(-57,50) 
	BLKN M 1 Offset(-7,25) 
	BLKN M 7 Offset(32,1) 
	TNT1 A 0 A_PlaySound("BlueKnight/ChainFire",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 A_FireCustomMissile ("KXBlueKnightChain", 0, 0)
	BLKN M 1 Offset(-7,1)
	TNT1 A 0 A_SetPitch(pitch+3)
	TNT1 A 0 A_SetAngle(angle-3)
	BLKN M 1 Offset(-57,1)
	TNT1 A 0 A_SetPitch(pitch+3)
	TNT1 A 0 A_SetAngle(angle-3)
	BLKN M 1 Offset(-107,1)
	TNT1 A 0 A_SetPitch(pitch-3)
	TNT1 A 0 A_SetAngle(angle+3)
	BLKN M 1 Offset(-157,1)
	TNT1 A 0 A_SetPitch(pitch-3)
	TNT1 A 0 A_SetAngle(angle+3)
	BLKN M 1 Offset(-207,1)
	BLKN M 1 Offset(-257,1)
	BLKN M 1 Offset(-307,1)
	
	TNT1 A 2 OffSet(32,1)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	BLKN A 0 A_TakeInventory("PunchedAlready",32767)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightChainCooldown",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
  BlueKnightAttract:
	TNT1 A 0 A_JumpIfInventory("KXBlueKnightHookToken",1,"TakeOff")
	Goto BlueKnightAttractLower
  TakeOff:
	TNT1 A 0 A_TakeInventory("KXBlueKnightHookToken",1)
	TNT1 A 0 A_GiveInventory("KXBlueKnightChainToken2",1)
	Goto BlueKnightAttractLower
  BlueKnightAttractLower:
	BLKN B 1 Offset(-40,50)
	BLKN C 1 Offset(-20,48) A_PlaySound("BlueKnight/Swish",5,1.0,false,2.5)
	BLKN D 1 Offset(0,40)
	BLKN D 1 Offset(20,35)
	TNT1 A 0 A_SetAngle(-3+angle)
	TNT1 A 0 A_SetPitch(pitch-3)
	BLKN D 1 Offset(40,35) 
	TNT1 A 0 A_SetAngle(-3+angle)
	TNT1 A 0 A_SetPitch(pitch-3)
	BLKN D 1 Offset(60,35) 
	BLKN D 1 Offset(80,60)
	BLKN D 1 Offset(100,80)
	TNT1 A 0 A_SetAngle(2+angle)
	BLKN D 1 Offset(120,100) A_SetPitch(pitch+2)
	TNT1 A 0 A_SetAngle(2+angle)
	BLKN D 1 Offset(140,120) A_SetPitch(pitch+2)
	TNT1 A 0 A_SetAngle(2+angle)
	BLKN D 1 Offset(180,140) A_SetPitch(pitch+2)
	BLKN D 1 Offset(200,160)
	BLKN A 0 Offset(1,32)
	TNT1 A 0 A_Jump(256,"Select")
	Goto Select
	
  BlueKnightKatana:
    TNT1 A 0 A_TakeInventory("KXBlueKnightHookToken",1)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 A_TakeInventory("KXBlueKnightBladeToken",1)
	TNT1 A 0 A_AlertMonsters
	BLKN A 1 Offset(0,52)
	BLKN A 1 Offset(0,72)
	BLKN A 1 Offset(0,92)
	TNT1 A 0 A_PlaySound("BlueKnight/Katana",5,1.0,false,2.5)
	TNT1 A 0 A_SpawnItemEx("KXBlueKnightBlocking",105,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 AA 0 A_Jump(256,"KatanaLeft","KatanaRight","KatanaAnotherLeft","KatanaAnotherRight","KatanaThirdLeft","KatanaThirdRight","KatanaFourLeft","KatanaFourRight")
  
  KatanaLeft:
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-30,0,0,0,0,6)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-25,0,0,0,0,5)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-20,0,0,0,0,4)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-15,0,0,0,0,3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-10,0,0,0,0,2)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-5,0,0,0,0,1)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",5,0,0,0,0,-1)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",10,0,0,0,0,-2)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",15,0,0,0,0,-3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",20,0,0,0,0,-4)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",25,0,0,0,0,-5)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",30,0,0,0,0,-6)
       Goto KatanaEnding
  KatanaRight:
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",30,0,0,0,0,-6)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",25,0,0,0,0,-5)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",20,0,0,0,0,-4)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",15,0,0,0,0,-3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",10,0,0,0,0,-2)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",5,0,0,0,0,-1)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-5,0,0,0,0,1)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-10,0,0,0,0,2)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-15,0,0,0,0,3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-20,0,0,0,0,4)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-25,0,0,0,0,5)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-30,0,0,0,0,6)
       Goto KatanaEnding
  KatanaAnotherLeft:
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-30,0,0,0,0,-6)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-25,0,0,0,0,-5)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-20,0,0,0,0,-4)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-15,0,0,0,0,-3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-10,0,0,0,0,-2)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-5,0,0,0,0,-1)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",5,0,0,0,0,1)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",10,0,0,0,0,2)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",15,0,0,0,0,3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",20,0,0,0,0,4)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",25,0,0,0,0,5)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",30,0,0,0,0,6)
       Goto KatanaEnding
  KatanaAnotherRight:
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-30,0,0,0,0,-6)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-25,0,0,0,0,-5)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-20,0,0,0,0,-4)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-15,0,0,0,0,-3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-10,0,0,0,0,-2)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-5,0,0,0,0,-1)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",5,0,0,0,0,1)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",10,0,0,0,0,2)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",15,0,0,0,0,3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",20,0,0,0,0,4)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",25,0,0,0,0,5)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",30,0,0,0,0,6)
       Goto KatanaEnding
  KatanaThirdLeft:
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-24,0,0,0,0,24)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-20,0,0,0,0,20)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-16,0,0,0,0,16)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-12,0,0,0,0,12)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-8,0,0,0,0,8)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-4,0,0,0,0,4)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",4,0,0,0,0,-4)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",8,0,0,0,0,-8)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",12,0,0,0,0,-12)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",16,0,0,0,0,-16)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",20,0,0,0,0,-20)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",24,0,0,0,0,-24)
       Goto KatanaEnding
  KatanaThirdRight:
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",24,0,0,0,0,-24)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",20,0,0,0,0,-20)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",16,0,0,0,0,-16)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",12,0,0,0,0,-12)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",8,0,0,0,0,-8)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",4,0,0,0,0,-4)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-4,0,0,0,0,4)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-8,0,0,0,0,8)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-12,0,0,0,0,12)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-16,0,0,0,0,16)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-20,0,0,0,0,20)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-24,0,0,0,0,24)
       Goto KatanaEnding
  KatanaFourLeft:
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-30,0,0,0,0,18)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-25,0,0,0,0,15)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-20,0,0,0,0,12)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-15,0,0,0,0,9)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-10,0,0,0,0,6)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-5,0,0,0,0,3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",5,0,0,0,0,-3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",10,0,0,0,0,-6)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",15,0,0,0,0,-9)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",20,0,0,0,0,-12)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",25,0,0,0,0,-15)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",30,0,0,0,0,-18)
       Goto KatanaEnding
  KatanaFourRight:
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",30,0,0,0,0,-18)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",25,0,0,0,0,-15)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",20,0,0,0,0,-12)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",15,0,0,0,0,-9)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",10,0,0,0,0,-6)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",5,0,0,0,0,-3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-5,0,0,0,0,3)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-10,0,0,0,0,6)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-15,0,0,0,0,9)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-20,0,0,0,0,12)
	   TNT1 A 1 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-25,0,0,0,0,15)
	   TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",-30,0,0,0,0,18)
       Goto KatanaEnding
  KatanaEnding:
	TNT1 A 0 OffSet(32,1) 
	BLKN A 1 Offset(1,92) 
	BLKN A 1 Offset(1,72) 
	BLKN A 1 Offset(1,52) 
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	BLKN A 0 A_TakeInventory("PunchedAlready",32767)
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 A_Jump(256,"Select")
    Goto Select
	
	
  BlueKnightSoulRipper:
    TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
    TNT1 A 0 A_TakeInventory("KXBlueKnightHookToken",1)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 A_TakeInventory("KXBlueKnightBladeToken",1)
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_Stop
	BLKN A 1 Offset(0,52)
	BLKN A 1 Offset(0,72)
	BLKN A 1 Offset(0,92)
	TNT1 A 0 A_PlaySound ("BlueKnight/KatanaSpecial")
	TNT1 A 5
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightDash2",0,0,0,0)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 1 A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 0 A_PlaySound ("BlueKnight/Katana")
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,-18)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,-15)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,-12)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,-9)
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,-6)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,-3)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,0)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,3)
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,6)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,9)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,12)
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,15)
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 0 Bright A_FireCustomMissile("KXBlueKnightKatanaProjectile",0,0,0,0,0,18)
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 A_Stop
	TNT1 A 1 bright A_RadiusGive("BlueKnightSoulRipperItem",224,RGF_MONSTERS,1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightUltimateUse",0,0,0,0)
	Goto KatanaEnding
  BlueKnightCelestialAscent:
    TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
    TNT1 A 0 A_TakeInventory("KXBlueKnightHookToken",1)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 A_TakeInventory("KXBlueKnightBladeToken",1)
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_Stop
	BLKN A 1 Offset(0,52)
	BLKN A 1 Offset(0,72)
	BLKN A 1 Offset(0,92)
	TNT1 A 0 A_PlaySound("BlueKnight/CelestialAscent1",CHAN_7,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 A_TakeInventory("KXBlueKnightDashToken",1)
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightDash2",0,0,0,0)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
	TNT1 AAAA 0 Bright A_SpawnItemEx("KXBlueKnightKatanaParticle4", Random(24, 32), 0, 4, 0, 0, (Random(20, 35)*0.1), Random(0, 360), 128)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentReal")
	TNT1 A 1 A_RadiusGive("BlueKnightCelestialAscentItem",190,RGF_MONSTERS,1)
  BlueKnightCelestialAscentReal:
	TNT1 A 0 A_ScaleVelocity(0.5)
	TNT1 AAAAAAAA 1 
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightCelestialAscentFriction",0,1,0,0)
	TNT1 A 1
	TNT1 EEE 0 ThrustThingZ(0,150,0,0)
	TNT1 A 0 A_PlaySound("BlueKnight/CelestialAscent2",CHAN_7,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 A_JumpIfInventory("BlueKnightCelestialAscentToken",1,"BlueKnightCelestialAscentLoop")
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightCelestialAscentFriction",0,0,0,0)
	Goto KatanaEnding
  BlueKnightCelestialAscentLoop:
	TNT1 AA 1 a_spawnitemex("KXBlueKnightKatanaParticle4",frandom(-20,20),frandom(-20,20),frandom(0,48),frandom(-1,1),frandom(-1,1),frandom(-1,1),0,0)
	TNT1 A 0 A_JumpIf(Momz<0,"BlueKnightCelestialAscentLoop2")
	Loop
  BlueKnightCelestialAscentLoop2:
	TNT1 AAAAAA 1 a_spawnitemex("KXBlueKnightKatanaParticle4",frandom(-20,20),frandom(-20,20),frandom(0,48),frandom(-1,1),frandom(-1,1),frandom(-1,1),0,0)
	TNT1 A 0 A_JumpIf(Momz==0,"BlueKnightCelestialAscentEnd")
	Goto BlueKnightCelestialAscentLoop2+5
  BlueKnightCelestialAscentEnd:
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightCelestialAscentFriction",0,0,0,0)
	TNT1 A 0 A_SpawnItemEx("KXBlueKnightCelestialAscentEffect",0,0,floorz+1,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_GiveInventory("KXBlueKnightCelestialAscentExplosion",1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle4",0,0,0,frandom(-5,5),frandom(-5,5),frandom(0,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle5",0,0,0,frandom(-5,5),frandom(-5,5),frandom(0,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle6",0,0,0,frandom(-5,5),frandom(-5,5),frandom(0,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("KXBlueKnightExecutionEffectWave",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("BlueKnightCelestialAscentEffectWave",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXBlueKnightEarthSpikeEffect",frandom(16,768),0,floorz+1,0,0,0,frandom(0,360),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_PlaySound("BlueKnight/CelestialAscent3",CHAN_6,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 A_PlaySound("cbaron/stomp",CHAN_7,1.0,FALSE,ATTN_NONE)
	TNT1 A 1
	TNT1 A 0 A_TakeInventory("BlueKnightCelestialAscentToken",9999)
	TNT1 A 0 A_TakeInventory("BlueKnightCelestialAscentItem2",9999)
	TNT1 A 14
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightUltimateUse",0,0,0,0)
	Goto KatanaEnding
  BlueKnightAshenAbsolution:
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightUltimateUse",0,0,0,0)
    TNT1 A 0 A_TakeInventory("KXBlueKnightHookToken",1)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 A_TakeInventory("KXBlueKnightBladeToken",1)
	TNT1 A 0 A_AlertMonsters
	TNT1 A 0 A_Stop
	BLKN A 1 Offset(0,52)
	BLKN A 1 Offset(0,72)
	BLKN A 1 Offset(0,92)
	TNT1 A 0 A_PlaySound ("BlueKnight/AshenAbsolutionCast",CHAN_7,1.0,FALSE,ATTN_NONE)
	TNT1 EEE 0 ThrustThingZ(0,150,0,0)
	Goto BlueKnightAshenAbsolutionLoop
  BlueKnightAshenAbsolutionLoop:
	TNT1 AA 1 a_spawnitemex("KXBlueKnightKatanaParticle4",frandom(-20,20),frandom(-20,20),frandom(0,48),frandom(-1,1),frandom(-1,1),frandom(-1,1),0,0)
	TNT1 A 0 A_JumpIf(Momz<0,"BlueKnightAshenAbsolutionLoop2")
	Loop
  BlueKnightAshenAbsolutionLoop2:
	TNT1 AAAAAA 1 a_spawnitemex("KXBlueKnightKatanaParticle4",frandom(-20,20),frandom(-20,20),frandom(0,48),frandom(-1,1),frandom(-1,1),frandom(-1,1),0,0)
	TNT1 A 0 A_JumpIf(Momz==0,"BlueKnightAshenAbsolutionEnd")
	Goto BlueKnightAshenAbsolutionLoop2+5
  BlueKnightAshenAbsolutionEnd:
	TNT1 A 0 A_RadiusGive("BlueKnightAshenAbsolutionItem",512,RGF_MONSTERS,1)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle4",frandom(0,512),0,floorz-z+1,0,0,frandom(0,10),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle5",frandom(0,512),0,floorz-z+1,0,0,frandom(0,10),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle6",frandom(0,512),0,floorz-z+1,0,0,frandom(0,10),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("KXBlueKnightAshenAbsolutionBigWave",0,0,5,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SpawnItemEx("BlueKnightAshenAbsolutionEffectWave",0,0,0,0,0,0,0,SXF_NOCHECKPOSITION)
	TNT1 A 0 A_PlaySound ("BlueKnight/AshenAbsolution",CHAN_7,1.0,FALSE,ATTN_NONE)
	TNT1 A 15
	Goto KatanaEnding
  BlueKnightShield:
	TNT1 A 0 ACS_NamedExecuteAlways("KXActivatorErase",0,0,0,0)
	TNT1 A 0 ACS_NamedExecuteAlways("KXBlueKnightUltimateUse",0,0,0,0)
    TNT1 A 0 A_TakeInventory("KXBlueKnightHookToken",1)
	TNT1 A 0 A_TakeInventory("KXFireSkillToken",1)
	TNT1 A 0 A_TakeInventory("KXBlueKnightBladeToken",1)
	TNT1 A 0 A_AlertMonsters
	BLKN A 1 Offset(0,52)
	BLKN A 1 Offset(0,72)
	BLKN A 1 Offset(0,92)
    TNT1 A 0 A_PlaySound("Heaven/StormCalmShield",CHAN_ITEM,1.0,FALSE,ATTN_NONE)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle4",0,0,0,frandom(-5,5),frandom(-5,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle5",0,0,0,frandom(-5,5),frandom(-5,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("KXAngelicFrostTouchParticle6",0,0,0,frandom(-5,5),frandom(-5,5),frandom(-5,5),random(1,360),SXF_NOCHECKPOSITION)
	TNT1 A 0 A_SetBlend("0 0 255", .5, 5)
	TNT1 A 0 A_PlaySound("Heaven/StormCalmShield",CHAN_WEAPON,1.0,FALSE,ATTN_NONE)
	TNT1 A 0 ACS_NamedExecuteAlways("BlueKnightShield",0,0,0,0)
	Goto KatanaEnding
	
	
  Praying:
    KXSH A 1 Offset(0,70)
	KXSH A 1 Offset(0,65)
	KXSH A 1 Offset(0,60)
	KXSH A 1 Offset(0,55)
	KXSH A 1 Offset(0,50)
	KXSH A 1 Offset(0,45)
	KXSH A 1 Offset(0,40)
	KXSH A 1 Offset(0,35)
	Goto PrayingLoop
  PrayingLoop:
    KXSH A 1 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
    KXSH A 0 A_JumpIfInventory("KXIsShopping",1,"PrayingLoop")
	KXSH A 35
	KXSH A 1 Offset(0,40)
	KXSH A 1 Offset(0,45)
	KXSH A 1 Offset(0,50)
	KXSH A 1 Offset(0,55)
	KXSH A 1 Offset(0,60)
	KXSH A 1 Offset(0,65)
	KXSH A 1 Offset(0,70)
	KXSH A 1 Offset(0,75)
	TNT1 A 0 A_Jump(256,"Select")
	Goto Select
	
  HolyWater:
	TNT1 A 20
    KXSH B 1 Offset(0,152)
	KXSH B 1 Offset(0,137)
	KXSH B 1 Offset(0,122)
	KXSH B 1 Offset(0,107)
	KXSH C 1 Offset(0,92)
	KXSH C 1 Offset(0,77)
	KXSH C 1 Offset(0,62)
	KXSH C 1 Offset(0,47)
	TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	KXSH FGHI 4
	KXSH BCDEFGHI 4
	KXSH B 1 Offset(0,47)
	KXSH B 1 Offset(0,62)
	KXSH B 1 Offset(0,77)
	KXSH B 1 Offset(0,92)
	KXSH C 1 Offset(0,107)
	KXSH C 1 Offset(0,122)
	KXSH C 1 Offset(0,137)
	KXSH C 1 Offset(0,152)
	TNT1 AAAAAA 35
	TNT1 A 0 A_WeaponReady(WRF_NOFIRE|WRF_NOSWITCH)
	TNT1 A 0 A_Jump(256,"Select")
	Goto Select
  }
}

Actor KXIsShopping : Inventory
{
	Inventory.MaxAmount 1
}

Actor KXIsDrinkingHolyWater : Inventory
{
	Inventory.MaxAmount 1
}